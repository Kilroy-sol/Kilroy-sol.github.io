<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KILROY WAS HERE</title>
  <style>
    :root {
      --text:#f4f4f4;
      --nav:rgba(18,18,26,.9);
      --accent:#ff3b5c; /* Kilroy meme red */
      --tape-bg:#ff3b5c;
      --tape-text:#fff;
      --box-bg:rgba(35,35,45,.92);
    }

    body {
      margin:0;
      font-family:'Comic Sans MS', 'Segoe UI', sans-serif; /* memeable font */
      color:var(--text);
      background:linear-gradient(-45deg,#0a0a0a,#1a1a1a,#222,#111);
      background-size:400% 400%;
      animation:gradientMove 16s ease infinite;
      min-height:100vh;
    }
    @keyframes gradientMove {
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    header img {width:100%;display:block;}
    .separator-thin {height:2px;background:var(--accent);opacity:.8;}

    /* Accordion */
    .accordion-bar {
      background:var(--nav);
      color:#fff;
      text-align:center;
      font-weight:700;
      cursor:pointer;
      border-top:2px solid var(--accent);
      border-bottom:2px solid var(--accent);
      padding:14px;
      user-select:none;
      letter-spacing:1px;
      font-size:1.05rem;
      text-transform:uppercase;
    }
    .accordion-bar:hover { background:rgba(255,59,92,.2); }

    .accordion-sheet {
      background:var(--nav);
      border-bottom:2px solid var(--accent);
      display:flex;flex-direction:column;align-items:center;gap:12px;
      overflow:hidden;max-height:0;opacity:0;
      transition:max-height .4s ease,opacity .35s ease,padding .3s ease;
      backdrop-filter:blur(8px);
    }
    .accordion-sheet.open {max-height:240px;opacity:1;padding:14px 0;}

    .accordion-btn {
      width:200px;padding:12px;text-align:center;
      border-radius:8px;background:rgba(255,255,255,.06);
      border:2px solid var(--accent);color:#fff;
      font-weight:700;text-decoration:none;cursor:pointer;
      font-size:1rem;text-transform:uppercase;
      transition:all .25s;
    }
    .accordion-btn:hover {
      background:var(--accent);color:#000;
      transform:scale(1.05);
      box-shadow:0 0 12px rgba(255,59,92,.6);
    }

    /* Warning tape */
    .marquee {
      overflow:hidden;white-space:nowrap;
      background:var(--tape-bg);color:var(--tape-text);
      font-weight:900;padding:16px;transform:rotate(-2deg);
      margin:28px 0;letter-spacing:2px;font-size:1.2rem;
      border-top:4px solid #000;border-bottom:4px solid #000;
      text-align:center;text-transform:uppercase;
      box-shadow:0 0 20px rgba(255,59,92,.7);
    }
    .marquee span {display:inline-block;padding-left:100%;animation:scroll 12s linear infinite;}
    @keyframes scroll {0%{transform:translateX(0)}100%{transform:translateX(-100%)}}

    /* Stats */
    .content {
      max-width:1000px;margin:0 auto;
      display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:24px;padding:20px;
    }
    .box {
      background:var(--box-bg);
      padding:26px;border-radius:14px;
      backdrop-filter:blur(6px);
      text-align:center;
      box-shadow:0 6px 16px rgba(0,0,0,.5);
      transform:rotate(-1deg);
      transition:transform .25s;
    }
    .box:nth-child(even){transform:rotate(1deg);} /* meme wobble */
    .box:hover {transform:scale(1.05) rotate(0deg);}
    .box h3 {
      margin:0 0 12px;font-size:1.4rem;
      color:var(--accent);font-weight:900;
    }
    .box p {font-size:1.25rem;font-weight:bold;}

    /* Flash + Pulse */
    @keyframes flashGreen {0%{background-color:rgba(0,200,83,.35)}100%{background-color:transparent}}
    @keyframes flashRed {0%{background-color:rgba(255,82,82,.35)}100%{background-color:transparent}}
    @keyframes pulse {0%{transform:scale(1)}50%{transform:scale(1.12)}100%{transform:scale(1)}}
    .flash-green{animation:flashGreen 1s ease}
    .flash-red{animation:flashRed 1s ease}
    .pulse{animation:pulse .6s ease}

    /* Chart */
    .chart-btn {
      display:block;margin:30px auto;padding:16px 32px;
      background:var(--accent);color:#000;font-weight:900;
      border-radius:10px;cursor:pointer;border:none;
      transition:.25s;font-size:1.1rem;text-transform:uppercase;
      box-shadow:0 0 14px rgba(255,59,92,.6);
    }
    .chart-btn:hover {transform:scale(1.08);background:#ff5f7a;}

    .chart-overlay {position:fixed;inset:0;background:rgba(0,0,0,.75);
      backdrop-filter:blur(6px);display:flex;align-items:center;justify-content:center;
      opacity:0;pointer-events:none;transition:.3s;z-index:500;}
    .chart-overlay.open {opacity:1;pointer-events:auto;}
    .chart-modal {background:rgba(30,30,40,.95);border-radius:16px;padding:14px;
      max-width:95%;width:1000px;box-shadow:0 0 24px rgba(255,59,92,.7);
      transform:scale(.85);transition:transform .3s;}
    .chart-overlay.open .chart-modal{transform:scale(1);}
    .chart-modal iframe{width:100%;height:500px;border:none;border-radius:8px;}
    .chart-close {
      background:#ff5252;border:none;color:#fff;font-weight:bold;
      border-radius:8px;padding:8px 14px;margin-bottom:10px;
      cursor:pointer;float:right;
    }

    footer {
      background:var(--nav);color:#aaa;text-align:center;
      padding:20px;font-size:1rem;border-top:2px solid var(--accent);
      text-transform:uppercase;font-weight:700;letter-spacing:1px;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://i.ibb.co/mVcR3d0f/ezgif-3a30b871b95283.gif" alt="Kilroy Banner"/>
  </header>
  <div class="separator-thin"></div>

  <!-- Accordion -->
  <div class="accordion-bar" id="accordionBar">‚ñ≤ Menu</div>
  <div class="accordion-sheet" id="accordionSheet">
    <a class="accordion-btn" href="#">Twitter</a>
    <a class="accordion-btn" href="#">Telegram</a>
    <button class="accordion-btn" id="copyCA">üìã Copy Contract</button>
  </div>

  <!-- Warning -->
  <div class="marquee">
    <span>‚ö†Ô∏è KILROY WAS HERE ‚Ä¢ PEEKING SINCE 1940 ‚Ä¢ KILROY WAS HERE ‚ö†Ô∏è</span>
  </div>

  <!-- Stats -->
  <section class="content">
    <div class="box"><h3>üí∞ Price</h3><p id="tokenPrice">‚Äî</p></div>
    <div class="box"><h3>üìä Market Cap</h3><p id="tokenMcap">‚Äî</p></div>
    <div class="box"><h3>üìà 24h Volume</h3><p id="tokenVol">‚Äî</p></div>
    <div class="box"><h3>üí¶ Liquidity</h3><p id="tokenLiq">‚Äî</p></div>
  </section>

  <!-- Chart -->
  <button class="chart-btn" id="openChart">üìä View Chart</button>
  <div class="chart-overlay" id="chartOverlay">
    <div class="chart-modal">
      <button class="chart-close" id="closeChart">‚úñ Close</button>
      <iframe src="https://dexscreener.com/solana/DzuZqXyVzyBYFvjSeAQDHKbzgyxUXVC5AuU2fmw6pump?embed=1&theme=dark"></iframe>
    </div>
  </div>

  <footer><p>¬© 2025 KILROY WAS HERE ‚Äî PEEKING SINCE 1940</p></footer>

  <script>
    const CA="DzuZqXyVzyBYFvjSeAQDHKbzgyxUXVC5AuU2fmw6pump";

    // Copy contract
    document.getElementById("copyCA").onclick=()=>{
      navigator.clipboard.writeText(CA).then(()=>{
        copyCA.textContent="‚úÖ Copied!";
        setTimeout(()=>copyCA.textContent="üìã Copy Contract",2000);
      });
    };

    // Animate numbers
    function animateNumber(el,start,end,duration=800,prefix="$",decimals=0,indicator=""){
      const startTime=performance.now();
      function update(now){
        const progress=Math.min((now-startTime)/duration,1);
        const val=start+(end-start)*progress;
        el.textContent=prefix+val.toFixed(decimals)+indicator;
        if(progress<1) requestAnimationFrame(update);
      }
      requestAnimationFrame(update);
    }

    let lastPrice=null,lastMcap=null,lastVol=null,lastLiq=null;
    function applyDelta(cur,last,el){
      if(last===null) return "";
      if(cur>last){el.parentElement.classList.add("flash-green","pulse");return " ‚Üë";}
      if(cur<last){el.parentElement.classList.add("flash-red","pulse");return " ‚Üì";}
      return "";
    }
    function clearFX(){setTimeout(()=>document.querySelectorAll(".flash-green,.flash-red,.pulse").forEach(n=>n.classList.remove("flash-green","flash-red","pulse")),900);}

    async function fetchStats(){
      try{
        const r=await fetch(`https://api.dexscreener.com/latest/dex/tokens/${CA}`);
        const d=await r.json(); if(!d.pairs.length) return;
        const p=d.pairs[0];
        const price=+p.priceUsd, mcap=Math.round(p.fdv||0), vol=Math.round(p.volume.h24||0), liq=Math.round(p.liquidity.usd||0);

        const priceEl=document.getElementById("tokenPrice");
        animateNumber(priceEl,lastPrice||price,price,800,"$",8,applyDelta(price,lastPrice,priceEl));
        lastPrice=price;

        const mcapEl=document.getElementById("tokenMcap");
        animateNumber(mcapEl,lastMcap||mcap,mcap,800,"$",0,applyDelta(mcap,lastMcap,mcapEl));
        lastMcap=mcap;

        const volEl=document.getElementById("tokenVol");
        animateNumber(volEl,lastVol||vol,vol,800,"$",0,applyDelta(vol,lastVol,volEl));
        lastVol=vol;

        const liqEl=document.getElementById("tokenLiq");
        animateNumber(liqEl,lastLiq||liq,liq,800,"$",0,applyDelta(liq,lastLiq,liqEl));
        lastLiq=liq;

        clearFX();
      }catch(e){console.error(e);}
    }
    fetchStats();setInterval(fetchStats,30000);

    // Chart modal
    const overlay=document.getElementById("chartOverlay");
    document.getElementById("openChart").onclick=()=>overlay.classList.add("open");
    document.getElementById("closeChart").onclick=()=>overlay.classList.remove("open");
    overlay.onclick=e=>{if(e.target===overlay) overlay.classList.remove("open");};

    // Accordion simple open/close (no lag)
    const bar=document.getElementById("accordionBar"),sheet=document.getElementById("accordionSheet");
    let open=false;
    bar.onclick=()=>{
      open=!open;
      if(open){sheet.classList.add("open");bar.textContent="‚ñº Close";}
      else{sheet.classList.remove("open");bar.textContent="‚ñ≤ Menu";}
    };
  </script>
</body>
</html>
